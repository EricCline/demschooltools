@(person: Person)

@import helper._

<div class="person">
<h4><a href="@routes.Application.person(person.person_id)">
@person.first_name @person.last_name</a></h4>
@if( person.notes ) {
	<p>@person.notes</p>
}
<div id="person_tags_@person.person_id">
 @for( t <- person.tags ) {
	 @tag_fragment(t)
  }
<a id="add_tag_a_@person.person_id"
	href="javascript:$('#add_tag_@person.person_id').show();$('#add_tag_@person.person_id input').focus();$('#add_tag_a_@person.person_id').hide();">Add tag</a>
</div>
<br>
<span id="add_tag_@person.person_id" style="display:none;">
Add tag:<input type="text" id="person_tag_entry_@person.person_id"/><br></span>

<script type="text/javascript">
enableTagBox("#person_tag_entry_@person.person_id",
			 "#person_tags_@person.person_id",
             @person.person_id);
</script>

@if( person.email ) {
	<a href="mailto:@person.email">@person.email</a><br>
}
@for( number <- person.phone_numbers ) {
    @number.number
	@if( number.comment ) {
	    (@number.comment)
	}
	<br/>
}
@if( person.address ) {
	@person.address<br>
	@person.city, @person.state @person.zip<br>
} else { @if( person.neighborhood ) {
	'hood: @person.neighborhood<br>
} }

@if(person.dob != null) {
	Age @Application.calcAge(person) (born @Application.formatDob(person.dob))<br>
}
<a href="@routes.Application.editPerson(person.person_id)">Edit</a>
</div>
